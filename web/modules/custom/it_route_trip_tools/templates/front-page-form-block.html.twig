{% set url = url('<current>') %}
{% if is_front %}
<form action="/bus/trip-planner" method="POST" autocomplete="off">
{% endif %}
    <div id="tripplanner-menu" name="trip-planner-menu">
        <div class="form-group">
            <label for="start_add" class="sr-only">Starting Address</label>
            <input type="text" name="start_add_id" id="start_add_id" class="hidden start-add-control" aria-hidden="true" />
            <div class="start-add-container">
              <input name="start_add" id="start_add" type="text" placeholder="From" class="form-control start-add-control">
              <button class="address-clear btn btn-danger" id="start-add-control" type="button">X</button>
            </div>
            <div class="alert alert-danger hidden" id="start-add-alert"></div>
            <button id="locate" class="btn btn-primary col-xs-12 col-sm-12 col-md-12 col-lg-12" type="button" onclick="showPosition();">Use My Location</button>
        </div>
        <div class="form-group">
            <label for="dest_add" class="sr-only">Destination Address</label>
            <input type="text" name="dest_add_id" id="dest_add_id" class="hidden dest-add-control" aria-hidden="true" />
            <div class="dest-add-container">
              <input name="dest_add" id="dest_add" type="text" placeholder="To" class="form-control dest-add-control">
              <button class="address-clear btn btn-danger" id="dest-add-control" type="button">X</button>
            </div>
            <div class="alert alert-danger hidden" id="dest-add-alert"></div>
        </div>                                        
        <div class="form-group">
            <label for="date" class="sr-only">Select a Date</label>
            <input type="text" name="date" id="date" name="fromdatepicker" class="form-control">
        </div>
        <div class="form-group">
            <label for="ttype" class="sr-only">Is this when you would like to arrive or depart?</label>
            <select class="form-control" id="ttype" name="ttype" onchange="number()">
                <option value="dep">Depart</option>
                <option value="arr">Arrive</option>
            </select>
        </div>
        <div class="form-group time-field">
            <label for="time" class="sr-only">Select a Time</label>
            <input type="text" name="selected_time" id="time_input" class="hidden" aria-hidden="true" />
            <input class="form-control timepicker-content" id="time" name="time">
        </div>
        <div class="form-group opt-field">     
            <label for="opt" class="sr-only">Route Options</label>
            <select class="form-control padding" id="opt" name="opt">
                <option value="FEWER_TRANSFERS">Fewer Transfers</option>
                <option value="LESS_WALKING">Less Walking</option>
            </select>
        </div>
        <div class="form-group">
            <button type="submit" id="get-directions" value="Get Directions" class="btn btn-block btn-primary disabled">Get Directions</button>
        </div>
    </div>
    {% if is_front %}
</form>
{% endif %}
{% if is_front %}
<div id="route-map" class="sr-only" style="height: 0; width: 0;"></div>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqUxJwPyuHfnatPYCrCwLKjsAi5r7iRPI&libraries=places&location=47.044408,-122.901711&radius=2&strictbounds&callback=initAutocomplete"></script>
{% elseif '\/bus\/trip-planner' in url|render|render %}
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqUxJwPyuHfnatPYCrCwLKjsAi5r7iRPI&libraries=places&location=47.044408,-122.901711&radius=2&strictbound&callback=initMap"></script>
{% endif %}
